{"ast":null,"code":"import _slicedToArray from\"/Users/taotao/Desktop/kodachrome128.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useSpring,animated}from'@react-spring/web';import{jsx as _jsx}from\"react/jsx-runtime\";var AnimatedDiv=function AnimatedDiv(_ref){var children=_ref.children;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var props=useSpring({from:{opacity:0,translateY:100},to:isVisible?{opacity:1,translateY:0}:{opacity:0,translateY:100},config:{duration:1000,easing:function easing(t){return t*(2-t);}},// Custom ease-out function\nonRest:function onRest(){return!isVisible&&setIsVisible(true);}});useEffect(function(){var handleBeforeUnload=function handleBeforeUnload(){return setIsVisible(false);};window.addEventListener('beforeunload',handleBeforeUnload);return function(){return window.removeEventListener('beforeunload',handleBeforeUnload);};},[]);return/*#__PURE__*/_jsx(animated.div,{style:{opacity:props.opacity,transform:props.translateY.interpolate(function(value){return\"translateY(\".concat(value,\"px)\");})},className:\"padding\",children:children});};export default AnimatedDiv;","map":{"version":3,"names":["React","useState","useEffect","useSpring","animated","jsx","_jsx","AnimatedDiv","_ref","children","_useState","_useState2","_slicedToArray","isVisible","setIsVisible","props","from","opacity","translateY","to","config","duration","easing","t","onRest","handleBeforeUnload","window","addEventListener","removeEventListener","div","style","transform","interpolate","value","concat","className"],"sources":["/Users/taotao/Desktop/kodachrome128.github.io/src/components/AnimatedDiv.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSpring, animated } from '@react-spring/web';\n\nconst AnimatedDiv = ({ children }) => {\n  const [isVisible, setIsVisible] = useState(true);\n\n  const props = useSpring({\n    from: { opacity: 0, translateY: 100 },\n    to: isVisible ? { opacity: 1, translateY: 0 } : { opacity: 0, translateY: 100 },\n    config: { duration: 1000, easing: t => t * (2 - t) }, // Custom ease-out function\n    onRest: () => !isVisible && setIsVisible(true),\n  });\n\n  useEffect(() => {\n    const handleBeforeUnload = () => setIsVisible(false);\n    window.addEventListener('beforeunload', handleBeforeUnload);\n    return () => window.removeEventListener('beforeunload', handleBeforeUnload);\n  }, []);\n\n  return (\n    <animated.div\n      style={{\n        opacity: props.opacity,\n        transform: props.translateY.interpolate((value) => `translateY(${value}px)`),\n      }} className=\"padding\"\n    >\n      {children}\n    </animated.div>\n  );\n};\n\nexport default AnimatedDiv;"],"mappings":"mIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExD,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAC7B,IAAAC,SAAA,CAAkCT,QAAQ,CAAC,IAAI,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAE9B,GAAM,CAAAI,KAAK,CAAGZ,SAAS,CAAC,CACtBa,IAAI,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,UAAU,CAAE,GAAI,CAAC,CACrCC,EAAE,CAAEN,SAAS,CAAG,CAAEI,OAAO,CAAE,CAAC,CAAEC,UAAU,CAAE,CAAE,CAAC,CAAG,CAAED,OAAO,CAAE,CAAC,CAAEC,UAAU,CAAE,GAAI,CAAC,CAC/EE,MAAM,CAAE,CAAEC,QAAQ,CAAE,IAAI,CAAEC,MAAM,CAAE,SAAAA,OAAAC,CAAC,QAAI,CAAAA,CAAC,EAAI,CAAC,CAAGA,CAAC,CAAC,EAAC,CAAC,CAAE;AACtDC,MAAM,CAAE,SAAAA,OAAA,QAAM,CAACX,SAAS,EAAIC,YAAY,CAAC,IAAI,CAAC,EAChD,CAAC,CAAC,CAEFZ,SAAS,CAAC,UAAM,CACd,GAAM,CAAAuB,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,QAAS,CAAAX,YAAY,CAAC,KAAK,CAAC,GACpDY,MAAM,CAACC,gBAAgB,CAAC,cAAc,CAAEF,kBAAkB,CAAC,CAC3D,MAAO,kBAAM,CAAAC,MAAM,CAACE,mBAAmB,CAAC,cAAc,CAAEH,kBAAkB,CAAC,GAC7E,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEnB,IAAA,CAACF,QAAQ,CAACyB,GAAG,EACXC,KAAK,CAAE,CACLb,OAAO,CAAEF,KAAK,CAACE,OAAO,CACtBc,SAAS,CAAEhB,KAAK,CAACG,UAAU,CAACc,WAAW,CAAC,SAACC,KAAK,sBAAAC,MAAA,CAAmBD,KAAK,SAAK,CAC7E,CAAE,CAACE,SAAS,CAAC,SAAS,CAAA1B,QAAA,CAErBA,QAAQ,CACG,CAAC,CAEnB,CAAC,CAED,cAAe,CAAAF,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}